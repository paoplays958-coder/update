-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
--    üêâ DRAGON HUB 0.3 - VERS√ÉO CORRIGIDA
--    Discord: discord.gg/pVsWE7WszB
-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

print("üêâ Dragon Hub 0.3 Carregando...")

wait(2)

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")

local isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled

print("‚úì Plataforma:", isMobile and "Mobile" or "PC")

local redzlib = loadstring(game:HttpGet("https://raw.githubusercontent.com/tbao143/Library-ui/refs/heads/main/Redzhubui"))()

local Window = redzlib:MakeWindow({
    Title = "üêâ Dragon Hub 0.3",
    SubTitle = isMobile and "Mobile" or "PC"
})

local originalWalkSpeed = humanoid.WalkSpeed
local originalJumpPower = humanoid.JumpPower or 50
local originalGravity = workspace.Gravity

-- CORRIGIDO: Fun√ß√£o de lista de jogadores
local function getPlayersList()
    local list = {}
    for _, p in pairs(Players:GetPlayers()) do
        if p ~= player then
            table.insert(list, p.Name)
        end
    end
    return #list > 0 and list or {"Nenhum"}
end

local function getVehiclesList()
    local vehicles = {"Todos os Carros"}
    
    for _, plr in pairs(Players:GetPlayers()) do
        if plr.Character then
            local hum = plr.Character:FindFirstChild("Humanoid")
            if hum and hum.SeatPart and hum.SeatPart:IsA("VehicleSeat") then
                table.insert(vehicles, plr.Name .. "'s Car")
            end
        end
    end
    
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("VehicleSeat") and obj.Parent then
            local dist = (obj.Position - rootPart.Position).Magnitude
            if dist <= 50 then
                local carName = obj.Parent.Name .. " (Perto)"
                if not table.find(vehicles, carName) then
                    table.insert(vehicles, carName)
                end
            end
        end
    end
    
    return vehicles
end

-- BUILD TOOL - CONFIGURA√á√ÉO
local selectedBlockType = "Bloco Cinza"

local blockTypes = {
    ["Bloco Cinza"] = {Material = Enum.Material.Concrete, Color = Color3.fromRGB(163, 162, 165)},
    ["Bloco Vermelho"] = {Material = Enum.Material.Concrete, Color = Color3.fromRGB(196, 40, 28)},
    ["Bloco Azul"] = {Material = Enum.Material.Concrete, Color = Color3.fromRGB(13, 105, 172)},
    ["Bloco Verde"] = {Material = Enum.Material.Concrete, Color = Color3.fromRGB(75, 151, 75)},
    ["Bloco Amarelo"] = {Material = Enum.Material.Concrete, Color = Color3.fromRGB(245, 205, 48)},
    ["Bloco Roxo"] = {Material = Enum.Material.Concrete, Color = Color3.fromRGB(107, 50, 124)},
    ["Vidro"] = {Material = Enum.Material.Glass, Color = Color3.fromRGB(255, 255, 255), Transparency = 0.5}
}

local function createBuildTool()
    for _, item in pairs(player.Backpack:GetChildren()) do
        if item.Name == "Build Tool" then
            item:Destroy()
        end
    end
    
    for _, item in pairs(character:GetChildren()) do
        if item.Name == "Build Tool" and item:IsA("Tool") then
            item:Destroy()
        end
    end
    
    local tool = Instance.new("Tool")
    tool.Name = "Build Tool"
    tool.RequiresHandle = false
    tool.CanBeDropped = false
    
    local handle = Instance.new("Part")
    handle.Name = "Handle"
    handle.Size = Vector3.new(1, 1, 1)
    handle.Transparency = 1
    handle.CanCollide = false
    handle.Parent = tool
    
    tool.Activated:Connect(function()
        local mouse = player:GetMouse()
        
        if mouse.Target then
            local blockConfig = blockTypes[selectedBlockType]
            
            local block = Instance.new("Part")
            block.Size = Vector3.new(4, 1, 4)
            block.Material = blockConfig.Material
            block.Color = blockConfig.Color
            block.Anchored = true
            block.CFrame = CFrame.new(mouse.Hit.Position) * CFrame.new(0, 0.5, 0)
            
            if blockConfig.Transparency then
                block.Transparency = blockConfig.Transparency
            end
            
            block.Parent = workspace
        end
    end)
    
    tool.Parent = player.Backpack
    print("‚úì Build Tool criada:", selectedBlockType)
end

-- TAB MOVIMENTO
local Tab1 = Window:MakeTab({"Movimento", "home"})

Tab1:AddSection({"Voo"})

local flying = false
local flySpeed = 50
local flyBody, flyGyro, flyConnection

Tab1:AddToggle({
    Name = "Fly",
    Default = false,
    Callback = function(v)
        flying = v
        
        if v then
            flyBody = Instance.new("BodyVelocity", rootPart)
            flyBody.MaxForce = Vector3.new(9e9, 9e9, 9e9)
            flyBody.Velocity = Vector3.zero
            
            flyGyro = Instance.new("BodyGyro", rootPart)
            flyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
            
            flyConnection = RunService.Heartbeat:Connect(function()
                if not flying then return end
                
                local cam = workspace.CurrentCamera
                local dir = Vector3.zero
                
                if isMobile then
                    local move = humanoid.MoveVector
                    if move.Magnitude > 0 then
                        dir = cam.CFrame.LookVector * move.Z + cam.CFrame.RightVector * move.X
                    end
                else
                    if UserInputService:IsKeyDown(Enum.KeyCode.W) then dir = dir + cam.CFrame.LookVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.S) then dir = dir - cam.CFrame.LookVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.A) then dir = dir - cam.CFrame.RightVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.D) then dir = dir + cam.CFrame.RightVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.Space) then dir = dir + Vector3.new(0, 1, 0) end
                    if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then dir = dir - Vector3.new(0, 1, 0) end
                end
                
                if dir.Magnitude > 0 then dir = dir.Unit end
                flyBody.Velocity = dir * flySpeed
                flyGyro.CFrame = cam.CFrame
            end)
        else
            if flyConnection then flyConnection:Disconnect() end
            if flyBody then flyBody:Destroy() end
            if flyGyro then flyGyro:Destroy() end
        end
    end
})

Tab1:AddSlider({
    Text = "Velocidade Fly",
    Min = 10,
    Max = 200,
    Default = 50,
    Callback = function(v)
        flySpeed = v
    end
})

Tab1:AddSection({"Velocidade"})

local speedEnabled = false
local speedValue = 16

Tab1:AddToggle({
    Name = "Speed",
    Default = false,
    Callback = function(v)
        speedEnabled = v
        humanoid.WalkSpeed = v and speedValue or originalWalkSpeed
    end
})

Tab1:AddSlider({
    Text = "Velocidade",
    Min = 16,
    Max = 150,
    Default = 16,
    Callback = function(v)
        speedValue = v
        if speedEnabled then humanoid.WalkSpeed = v end
    end
})

Tab1:AddSection({"Pulo"})

local jumpEnabled = false
local jumpValue = 50

Tab1:AddToggle({
    Name = "Jump Boost",
    Default = false,
    Callback = function(v)
        jumpEnabled = v
        humanoid.JumpPower = v and jumpValue or originalJumpPower
    end
})

Tab1:AddSlider({
    Text = "For√ßa do Pulo",
    Min = 50,
    Max = 300,
    Default = 50,
    Callback = function(v)
        jumpValue = v
        if jumpEnabled then humanoid.JumpPower = v end
    end
})

Tab1:AddToggle({
    Name = "Infinite Jump",
    Default = false,
    Callback = function(v)
        if v then
            _G.InfiniteJump = UserInputService.JumpRequest:Connect(function()
                humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end)
        else
            if _G.InfiniteJump then _G.InfiniteJump:Disconnect() end
        end
    end
})

Tab1:AddSection({"Atravessar"})

local noclipEnabled = false
local noclipConnection

Tab1:AddToggle({
    Name = "Noclip",
    Default = false,
    Callback = function(v)
        noclipEnabled = v
        
        if v then
            noclipConnection = RunService.Stepped:Connect(function()
                for _, part in pairs(character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end)
        else
            if noclipConnection then noclipConnection:Disconnect() end
            for _, part in pairs(character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = true
                end
            end
        end
    end
})

-- TAB VE√çCULOS
local Tab2 = Window:MakeTab({"Ve√≠culos", "shopping-cart"})

Tab2:AddSection({"Car Speed"})

local carSpeedEnabled = false
local carSpeedValue = 50
local carConnection
local selectedCar = "Todos os Carros"

local carDrop = Tab2:AddDropdown({
    Name = "Selecionar Ve√≠culo",
    Options = getVehiclesList(),
    Default = "Todos os Carros",
    Callback = function(v)
        selectedCar = v
    end
})

Tab2:AddButton({"Atualizar Lista", function()
    carDrop:Refresh(getVehiclesList(), true)
end})

Tab2:AddToggle({
    Name = "Car Speed",
    Default = false,
    Callback = function(v)
        carSpeedEnabled = v
        
        if v then
            carConnection = RunService.Heartbeat:Connect(function()
                if selectedCar == "Todos os Carros" then
                    for _, obj in pairs(workspace:GetDescendants()) do
                        if obj:IsA("VehicleSeat") then
                            obj.MaxSpeed = carSpeedValue
                        end
                    end
                elseif selectedCar:find("'s Car") then
                    local playerName = selectedCar:gsub("'s Car", "")
                    local targetPlayer = Players:FindFirstChild(playerName)
                    if targetPlayer and targetPlayer.Character then
                        local hum = targetPlayer.Character:FindFirstChild("Humanoid")
                        if hum and hum.SeatPart and hum.SeatPart:IsA("VehicleSeat") then
                            hum.SeatPart.MaxSpeed = carSpeedValue
                        end
                    end
                else
                    local carName = selectedCar:gsub(" %(Perto%)", "")
                    for _, obj in pairs(workspace:GetDescendants()) do
                        if obj:IsA("VehicleSeat") and obj.Parent and obj.Parent.Name == carName then
                            obj.MaxSpeed = carSpeedValue
                        end
                    end
                end
            end)
        else
            if carConnection then carConnection:Disconnect() end
            for _, obj in pairs(workspace:GetDescendants()) do
                if obj:IsA("VehicleSeat") then
                    obj.MaxSpeed = 25
                end
            end
        end
    end
})

Tab2:AddSlider({
    Text = "Velocidade Carro",
    Min = 1,
    Max = 250,
    Default = 50,
    Callback = function(v)
        carSpeedValue = v
    end
})

Tab2:AddSection({"Car Fly"})

local carFlyEnabled = false
local carFlySpeed = 70
local carFlyBody, carFlyGyro, carFlyConnection

Tab2:AddToggle({
    Name = "Car Fly",
    Default = false,
    Callback = function(v)
        carFlyEnabled = v
        
        if v then
            if humanoid.SeatPart and humanoid.SeatPart:IsA("VehicleSeat") then
                local seat = humanoid.SeatPart
                
                carFlyBody = Instance.new("BodyVelocity", seat)
                carFlyBody.MaxForce = Vector3.new(9e9, 9e9, 9e9)
                carFlyBody.Velocity = Vector3.zero
                
                carFlyGyro = Instance.new("BodyGyro", seat)
                carFlyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
                
                carFlyConnection = RunService.Heartbeat:Connect(function()
                    if not carFlyEnabled or not humanoid.SeatPart then return end
                    
                    local cam = workspace.CurrentCamera
                    local dir = Vector3.zero
                    
                    if isMobile then
                        local move = humanoid.MoveVector
                        if move.Magnitude > 0 then
                            dir = cam.CFrame.LookVector * move.Z + cam.CFrame.RightVector * move.X
                        end
                    else
                        if UserInputService:IsKeyDown(Enum.KeyCode.W) then dir = dir + cam.CFrame.LookVector end
                        if UserInputService:IsKeyDown(Enum.KeyCode.S) then dir = dir - cam.CFrame.LookVector end
                        if UserInputService:IsKeyDown(Enum.KeyCode.A) then dir = dir - cam.CFrame.RightVector end
                        if UserInputService:IsKeyDown(Enum.KeyCode.D) then dir = dir + cam.CFrame.RightVector end
                        if UserInputService:IsKeyDown(Enum.KeyCode.Space) then dir = dir + Vector3.new(0, 1, 0) end
                        if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then dir = dir - Vector3.new(0, 1, 0) end
                    end
                    
                    if dir.Magnitude > 0 then dir = dir.Unit end
                    carFlyBody.Velocity = dir * carFlySpeed
                    carFlyGyro.CFrame = cam.CFrame
                end)
            end
        else
            if carFlyConnection then carFlyConnection:Disconnect() end
            if carFlyBody then carFlyBody:Destroy() end
            if carFlyGyro then carFlyGyro:Destroy() end
        end
    end
})

Tab2:AddSlider({
    Text = "Velocidade Car Fly",
    Min = 10,
    Max = 200,
    Default = 70,
    Callback = function(v)
        carFlySpeed = v
    end
})

-- TAB TELEPORTE
local Tab3 = Window:MakeTab({"Teleporte", "map-pin"})

Tab3:AddSection({"Teleporte para Jogadores"})

local selectedTPPlayer = nil

local tpPlayerDrop = Tab3:AddDropdown({
    Name = "Selecionar Jogador",
    Options = getPlayersList(),
    Default = "Nenhum",
    Callback = function(v)
        selectedTPPlayer = v
    end
})

Tab3:AddButton({"Teleportar", function()
    if selectedTPPlayer and selectedTPPlayer ~= "Nenhum" then
        local target = Players:FindFirstChild(selectedTPPlayer)
        if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
            rootPart.CFrame = target.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, 3)
        end
    end
end})

Tab3:AddButton({"Atualizar Lista", function()
    tpPlayerDrop:Refresh(getPlayersList(), true)
end})

Tab3:AddSection({"Locais de Brookhaven"})

local locations = {
    ["Spawn"] = CFrame.new(-119.7, 8.2, 94.5),
    ["Loja de Carros"] = CFrame.new(-357.5, 8.2, 647.3),
    ["Hospital"] = CFrame.new(-225.9, 8.2, -474.3),
    ["Escola"] = CFrame.new(286.3, 8.2, -733.5),
    ["Banco"] = CFrame.new(-390.6, 8.2, -26.8),
    ["Igreja"] = CFrame.new(124.8, 8.2, -490.7),
    ["Praia"] = CFrame.new(-1034.5, 8.2, 523.8),
    ["Pol√≠cia"] = CFrame.new(-257.3, 8.2, -128.4)
}

local locationNames = {}
for name, _ in pairs(locations) do
    table.insert(locationNames, name)
end

Tab3:AddDropdown({
    Name = "Selecionar Local",
    Options = locationNames,
    Default = "Spawn",
    Callback = function(v)
        if locations[v] then
            rootPart.CFrame = locations[v]
        end
    end
})

Tab3:AddSection({"Click Teleport"})

local clickTPEnabled = false

Tab3:AddToggle({
    Name = "Click TP",
    Default = false,
    Callback = function(v)
        clickTPEnabled = v
        
        if v then
            local mouse = player:GetMouse()
            _G.ClickTP = mouse.Button1Down:Connect(function()
                if clickTPEnabled then
                    rootPart.CFrame = CFrame.new(mouse.Hit.Position + Vector3.new(0, 3, 0))
                end
            end)
        else
            if _G.ClickTP then _G.ClickTP:Disconnect() end
        end
    end
})

-- TAB VISUAL
local Tab4 = Window:MakeTab({"Visual", "eye"})

Tab4:AddSection({"ESP de Jogadores"})

local espEnabled = false
local espObjects = {}

Tab4:AddToggle({
    Name = "ESP",
    Default = false,
    Callback = function(v)
        espEnabled = v
        
        if v then
            for _, p in pairs(Players:GetPlayers()) do
                if p ~= player and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                    local highlight = Instance.new("Highlight")
                    highlight.FillColor = Color3.fromRGB(255, 0, 0)
                    highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
                    highlight.FillTransparency = 0.5
                    highlight.Adornee = p.Character
                    highlight.Parent = p.Character
                    
                    espObjects[p.UserId] = highlight
                end
            end
        else
            for _, highlight in pairs(espObjects) do
                if highlight then highlight:Destroy() end
            end
            espObjects = {}
        end
    end
})

Tab4:AddSection({"Ilumina√ß√£o"})

Tab4:AddToggle({
    Name = "Fullbright",
    Default = false,
    Callback = function(v)
        if v then
            Lighting.Brightness = 2
            Lighting.FogEnd = 100000
        else
            Lighting.Brightness = 1
            Lighting.FogEnd = 1000
        end
    end
})

Tab4:AddSection({"Skybox"})

Tab4:AddDropdown({
    Name = "Cor do C√©u",
    Options = {"Normal", "Azul", "Vermelho", "Verde", "Roxo", "Rosa", "Laranja", "Noite"},
    Default = "Normal",
    Callback = function(v)
        if v == "Normal" then
            Lighting.Ambient = Color3.fromRGB(138, 138, 138)
        elseif v == "Azul" then
            Lighting.Ambient = Color3.fromRGB(100, 150, 255)
        elseif v == "Vermelho" then
            Lighting.Ambient = Color3.fromRGB(255, 50, 50)
        elseif v == "Verde" then
            Lighting.Ambient = Color3.fromRGB(50, 255, 100)
        elseif v == "Roxo" then
            Lighting.Ambient = Color3.fromRGB(150, 50, 255)
        elseif v == "Rosa" then
            Lighting.Ambient = Color3.fromRGB(255, 150, 200)
        elseif v == "Laranja" then
            Lighting.Ambient = Color3.fromRGB(255, 150, 50)
        elseif v == "Noite" then
            Lighting.Ambient = Color3.fromRGB(10, 10, 50)
        end
    end
})

Tab4:AddSection({"C√¢mera"})

Tab4:AddSlider({
    Text = "FOV",
    Min = 70,
    Max = 120,
    Default = 70,
    Callback = function(v)
        workspace.CurrentCamera.FieldOfView = v
    end
})

-- TAB FERRAMENTAS (COM BUILD TOOL ADICIONADA)
local Tab5 = Window:MakeTab({"Ferramentas", "tool"})

Tab5:AddSection({"Build Tool"})

Tab5:AddDropdown({
    Name = "Tipo de Bloco",
    Options = {
        "Bloco Cinza",
        "Bloco Vermelho",
        "Bloco Azul",
        "Bloco Verde",
        "Bloco Amarelo",
        "Bloco Roxo",
        "Vidro"
    },
    Default = "Bloco Cinza",
    Callback = function(v)
        selectedBlockType = v
    end
})

Tab5:AddButton({"Criar Build Tool", function()
    createBuildTool()
end})

Tab5:AddButton({"Deletar Blocos", function()
    local count = 0
    for _, obj in pairs(workspace:GetChildren()) do
        if obj:IsA("Part") and obj.Anchored and not obj:IsDescendantOf(character) then
            obj:Destroy()
            count = count + 1
        end
    end
    print("‚úì", count, "blocos deletados!")
end})

Tab5:AddSection({"Espionar Jogador"})

local selectedSpy = nil

local spyDrop = Tab5:AddDropdown({
    Name = "Selecionar Jogador",
    Options = getPlayersList(),
    Default = "Nenhum",
    Callback = function(v)
        selectedSpy = v
    end
})

Tab5:AddButton({"Espiar", function()
    if selectedSpy and selectedSpy ~= "Nenhum" then
        local target = Players:FindFirstChild(selectedSpy)
        if target and target.Character and target.Character:FindFirstChild("Humanoid") then
            workspace.CurrentCamera.CameraSubject = target.Character.Humanoid
        end
    end
end})

Tab5:AddButton({"Parar", function()
    workspace.CurrentCamera.CameraSubject = humanoid
end})

Tab5:AddButton({"Atualizar Lista", function()
    spyDrop:Refresh(getPlayersList(), true)
end})

Tab5:AddSection({"Itens"})

Tab5:AddButton({"Pegar Todos Itens", function()
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("Tool") and v.Parent ~= player.Backpack and v.Parent ~= character then
            v.Parent = player.Backpack
        end
    end
end})

-- TAB DIVERSOS
local Tab6 = Window:MakeTab({"Diversos", "settings"})

Tab6:AddSection({"Anti-AFK"})

Tab6:AddToggle({
    Name = "Anti-AFK",
    Default = false,
    Callback = function(v)
        if v then
            local vu = game:GetService("VirtualUser")
            _G.AntiAFK = player.Idled:Connect(function()
                vu:Button2Down(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
                wait(1)
                vu:Button2Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
            end)
        else
            if _G.AntiAFK then _G.AntiAFK:Disconnect() end
        end
    end
})

Tab6:AddSection({"Anti-Ban"})

Tab6:AddButton({"Ativar Anti-Ban", function()
    for _, v in pairs(workspace:GetDescendants()) do
        if v:IsA("TouchTransmitter") then
            v:Destroy()
        end
    end
end})

Tab6:AddSection({"F√≠sica"})

Tab6:AddSlider({
    Text = "Gravidade",
    Min = 0,
    Max = 500,
    Default = 196,
    Callback = function(v)
        workspace.Gravity = v
    end
})

Tab6:AddButton({"Resetar Gravidade", function()
    workspace.Gravity = originalGravity
end})

-- TAB CONFIG
local Tab7 = Window:MakeTab({"Config", "list"})

Tab7:AddSection({"Discord"})

Tab7:AddDiscordInvite({
    Name = "Dragon Hub Discord",
    Description = "Entre no servidor!",
    Logo = "rbxassetid://18751483361",
    Invite = "https://discord.gg/pVsWE7WszB"
})

Tab7:AddSection({"Controles"})

Tab7:AddButton({"Resetar Tudo", function()
    if flying then
        if flyConnection then flyConnection:Disconnect() end
        if flyBody then flyBody:Destroy() end
        if flyGyro then flyGyro:Destroy() end
        flying = false
    end
    
    if noclipConnection then noclipConnection:Disconnect() end
    if carConnection then carConnection:Disconnect() end
    if carFlyConnection then carFlyConnection:Disconnect() end
    if carFlyBody then carFlyBody:Destroy() end
    if carFlyGyro then carFlyGyro:Destroy() end
    if _G.ClickTP then _G.ClickTP:Disconnect() end
    if _G.InfiniteJump then _G.InfiniteJump:Disconnect() end
    if _G.AntiAFK then _G.AntiAFK:Disconnect() end
    
    for _, highlight in pairs(espObjects) do
        if highlight then highlight:Destroy() end
    end
    
    humanoid.WalkSpeed = originalWalkSpeed
    humanoid.JumpPower = originalJumpPower
    workspace.Gravity = originalGravity
    workspace.CurrentCamera.CameraSubject = humanoid
    workspace.CurrentCamera.FieldOfView = 70
    
    Lighting.Brightness = 1
    Lighting.FogEnd = 1000
    Lighting.Ambient = Color3.fromRGB(138, 138, 138)
end})

Tab7:AddButton({"Fechar Hub", function()
    Window:Destroy()
end})

-- CORRIGIDO: Auto-atualiza√ß√£o
Players.PlayerAdded:Connect(function()
    task.wait(1)
    pcall(function()
        if spyDrop then spyDrop:Refresh(getPlayersList(), true) end
        if tpPlayerDrop then tpPlayerDrop:Refresh(getPlayersList(), true) end
        if carDrop then carDrop:Refresh(getVehiclesList(), true) end
    end)
end)

Players.PlayerRemoving:Connect(function()
    task.wait(1)
    pcall(function()
        if spyDrop then spyDrop:Refresh(getPlayersList(), true) end
        if tpPlayerDrop then tpPlayerDrop:Refresh(getPlayersList(), true) end
        if carDrop then carDrop:Refresh(getVehiclesList(), true) end
    end)
end)

spawn(function()
    while wait(5) do
        pcall(function()
            if carDrop then
                carDrop:Refresh(getVehiclesList(), true)
            end
        end)
    end
end)

print("‚úì Dragon Hub 0.3 Carregado!")
